!function(a){"use strict";!function(a,b){var c=function(){return c.get.apply(c,arguments)},d=c.utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},escape:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,b){return null==a?b:a}};c.defaults={},c.expiresMultiplier=86400,c.set=function(c,e,f){if(d.isPlainObject(c))for(var g in c)c.hasOwnProperty(g)&&this.set(g,c[g],e);else{f=d.isPlainObject(f)?f:{expires:f};var h=f.expires!==b?f.expires:this.defaults.expires||"",i=typeof h;"string"===i&&""!==h?h=new Date(h):"number"===i&&(h=new Date(+new Date+1e3*this.expiresMultiplier*h)),""!==h&&"toGMTString"in h&&(h=";expires="+h.toGMTString());var j=f.path||this.defaults.path;j=j?";path="+j:"";var k=f.domain||this.defaults.domain;k=k?";domain="+k:"";var l=f.secure||this.defaults.secure?";secure":"";a.cookie=d.escape(c)+"="+d.escape(e)+h+j+k+l}return this},c.remove=function(a){a=d.isArray(a)?a:d.toArray(arguments);for(var b=0,c=a.length;c>b;b++)this.set(a[b],"",-1);return this},c.empty=function(){return this.remove(d.getKeys(this.all()))},c.get=function(a,c){c=c||b;var e=this.all();if(d.isArray(a)){for(var f={},g=0,h=a.length;h>g;g++){var i=a[g];f[i]=d.retrieve(e[i],c)}return f}return d.retrieve(e[a],c)},c.all=function(){if(""===a.cookie)return{};for(var b=a.cookie.split("; "),c={},d=0,e=b.length;e>d;d++){var f=b[d].split("=");c[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return c},c.enabled=function(){if(navigator.cookieEnabled)return!0;var a="_"===c.set("_","_").get("_");return c.remove("_"),a},"function"==typeof define&&define.amd?define(function(){return c}):"undefined"!=typeof exports?exports.cookie=c:window.cookie=c}(document),a(document).ready(function(){var b=a("#wtsfc.subscribe-for-content-box form#subscribe");b.find("select.group-interest").on("change",function(c){c.preventDefault(),b.find(".interests").val(a(this).find("option:selected").text())}),b.on("submit",function(c){c.preventDefault();var d=a(this),e=b.find(".email-input").val(),f=b.find(".list-id").val(),g=b.find(".group-id").val(),h=b.find(".interests").val(),i=b.find(".current-post").val();d.siblings(".error").remove(),d.parent().addClass("loading"),d.find(".submit-subscribe").prop("disabled",!0);var j={action:"wtsfc_subscribe_list",security:wtsfc_frontend_params.security,email:e,list:f,group:g,interests:h,current_post:i};a.ajax({type:"POST",url:wtsfc_frontend_params.ajax_url,cache:!1,dataType:"json",data:j,success:function(b){if(d.parent().removeClass("loading"),d.find(".submit-subscribe").prop("disabled",!1),null!==b){var b=a.parseJSON(b);if(1==b.success){null!==b.cookie&&cookie.set(b.cookie.key,b.cookie.value,{expires:365,path:b.cookie.path,secure:!1});var c=d.closest("#wtsfc");c.addClass("subscribed-success").html("<h3>"+wtsfc_frontend_params.message_thankyou+"</h3><p>"+wtsfc_frontend_params.message_loading+'</p><img src="'+wtsfc_frontend_params.loading_img+'" />');var e={action:"wtsfc_get_full_content",security:wtsfc_frontend_params.security,current_post:i};a.ajax({type:"POST",url:wtsfc_frontend_params.ajax_url,cache:!1,dataType:"json",data:e,success:function(b){if(null!==b){var b=a.parseJSON(b);if(1==b.success){var e=a(b.the_content).filter(".wtsfc-hidden-content").html();c.replaceWith('<div class="wtsfc-hidden-content">'+e+"</div>")}else 1==b.error&&d.after('<div class="error">'+b.reason+"</div>")}}})}else 1==b.error&&d.after('<div class="error">'+b.reason+"</div>")}}})})})}(jQuery);